<app-header [title]="pageTitle" [helpUrl]="helpUrl"></app-header>

<ion-content class="ion-margin">
  <form [formGroup]="buildTxForm">
    <ion-item>
      <ion-label position="stacked">Memo</ion-label>
      <app-memo [form]="buildTxForm" [controlName]="'memo'" [memo_type]="savedMemo.memo_type"
        [memo_value]="savedMemo.memo"></app-memo>
    </ion-item>

    <ion-item>
      <ion-label>Fee</ion-label>
      <ion-range name="fee" formControlName="fee" [min]="networkFees.min_accepted_fee"
        [max]="networkFees.p99_accepted_fee" color="secondary" pin="true" steps="10">
        <ion-label slot="start">{{networkFees.min_accepted_fee}}</ion-label>
        <ion-label slot="end">{{networkFees.p99_accepted_fee}}</ion-label>
      </ion-range>
    </ion-item>
    <!-- to do: show summary of operations? -->

    <app-saza-date-time [form]="buildTxForm" [controlName]="'startTime'"></app-saza-date-time>
    <app-saza-date-time [form]="buildTxForm" [controlName]="'endTime'"></app-saza-date-time>

    <ion-item>
      <ion-label position="stacked">Source</ion-label>
      <app-select-source [form]="buildTxForm" [controlName]="'source'" [selected]="activeAccount.public">
      </app-select-source>
    </ion-item>

    <div class="ion-margin ion-text-center">
      <ion-button type="button" [disabled]="buildTxForm.invalid">Cancel</ion-button>
      <ion-button type="button" [disabled]="buildTxForm.invalid" (click)="buildTransaction()">Build Transaction
      </ion-button>
    </div>
  </form>
</ion-content>